$key = (_[a-zA-Z]+_|[a-zA-Z]+)
$attr_field = ([[:alnum:]]+|-)
$format = \((%[0-9dfxle.]+)\)
$key_attr = $key\s*@\s*$attr_field($format)?
$label = ([^:]+|-)
$domain = [-.[:alnum:]]+
$family = [-.[:alnum:]]+
$member = [-.[:alnum:]]+
$attr   = [[:alnum:]]+
$dev_attr = \s*:\s*($domain/$family/$member/$attr)\s*
$prop = \s*:\s*(\([a-zA-Z,/@_]+\)|-)

[testvar]
$def_val = \s*:\s*(.*)
pattern = $key_attr\s*:\s*$label($dev_attr)?$prop($def_val)?
function = match
'_ab_ @attr(%.2f):Label:domain/family/member/attr:(O,W):def
'Yr@-:-:-:[y]
'sdir@sDirectory: Sub directory : (O,L,C@_destpath_)
'_destpath_@destPath:Destination Path:(E,R,C@_destpath_): [rp]/[pr]/[sdir]
'XX@theYear:Year:(O,R):[Yr]
'pr@project:Project Code : steph/transverse/projectmanager/currentProject : (O,R)
'id@uniqueId : Unique Id : (O,R) : $(uc\:BEAMLINE)\:contacq\:[sc]

[prop]
pattern = ([A-Z])\s*(@\s*(([a-zA-Z_])+))?
function = search
'(O,R,C@_dest_path_)
'(O,R)
